<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>AI Core Jarvis HUD</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@500;700&family=Inter:wght@400;600&display=swap" rel="stylesheet">

<!-- Vercel Web Analytics -->
<script>
  window.va = window.va || function () { (window.vaq = window.vaq || []).push(arguments); };
</script>
<script defer src="/_vercel/insights/script.js"></script>

<style>
body{
  margin:0;
  background:radial-gradient(circle,#000010,#000);
  color:#00E5FF;
  font-family:Inter, sans-serif;
  overflow:hidden;
}
.container{
  position:absolute;
  top:50%;
  left:50%;
  transform:translate(-50%,-50%);
  width:90%;
  max-width:900px;
}
.status{
  text-align:center;
  font-family:Orbitron;
  letter-spacing:2px;
}
.pulse{
  display:inline-block;
  width:12px;
  height:12px;
  background:#00E5FF;
  border-radius:50%;
  animation:pulse 1.5s infinite;
}
@keyframes pulse{
  0%{box-shadow:0 0 5px #00E5FF;}
  50%{box-shadow:0 0 25px #00E5FF;}
  100%{box-shadow:0 0 5px #00E5FF;}
}
.panel{
  background:rgba(0,20,40,.6);
  border:1px solid rgba(0,229,255,.4);
  border-radius:20px;
  padding:30px;
  margin-top:20px;
  text-align:center;
}
button{
  margin-top:20px;
  padding:12px 30px;
  border-radius:30px;
  border:none;
  background:linear-gradient(90deg,#00E5FF,#1DE9B6);
  font-weight:bold;
  cursor:pointer;
}
</style>
</head>

<body>

<div class="container">
  <div class="status">AI CORE ONLINE <span class="pulse"></span></div>
  <div class="panel">
    <p id="aiText">Initializing systems...</p>
    <button onclick="startMic()">ðŸŽ¤ Speak</button>
  </div>
</div>

<script>
const aiText=document.getElementById("aiText");

function speak(text){
  const msg=new SpeechSynthesisUtterance(text);
  msg.rate=0.9;
  speechSynthesis.speak(msg);
}

window.onload=()=>{
  speak("AI core online. How can I assist you?");
  aiText.innerText="AI core online. How can I assist you?";
}

function startMic(){
  const SR=window.SpeechRecognition||window.webkitSpeechRecognition;
  if(!SR){alert("Voice not supported");return;}
  const rec=new SR();
  rec.lang="en-US";
  rec.start();
  rec.onresult=e=>{
    const speech=e.results[0][0].transcript;
    aiText.innerText="YOU: "+speech;
    askAI(speech);
  }
}

async function askAI(text){
  aiText.innerText="Thinking...";
  const res=await fetch("/api/ask",{
    method:"POST",
    headers:{"Content-Type":"application/json"},
    body:JSON.stringify({prompt:text})
  });
  const data=await res.json();
  aiText.innerText="AI: "+data.reply;
  speak(data.reply);
}
</script>

</body>
</html>
