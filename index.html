<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>AI Command Center</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- THREE.JS -->
<script src="https://cdn.jsdelivr.net/npm/three@0.152.2/build/three.min.js"></script>

<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:Segoe UI,Tahoma}

body{
  background:#000;
  color:#00ffff;
  overflow:hidden;
}

/* HUD */
.container{
  position:absolute;
  top:5%;
  left:50%;
  transform:translateX(-50%);
  width:90%;
  max-width:900px;
  padding:20px;
  border:1px solid #00ffff;
  box-shadow:0 0 25px #00ffffaa;
  backdrop-filter:blur(6px);
  z-index:5;
}

.header{
  text-align:center;
  font-size:26px;
  letter-spacing:3px;
  margin-bottom:20px;
}

.panel{
  border:1px solid #00ffff;
  padding:15px;
  margin-bottom:15px;
  box-shadow:inset 0 0 12px #00ffff55;
}

.chat{
  display:flex;
  gap:10px;
}
.chat input{
  flex:1;
  background:#000;
  border:1px solid #00ffff;
  color:#00ffff;
  padding:10px;
}
.chat button{
  background:#00ffff;
  color:#000;
  font-weight:bold;
  border:none;
  padding:10px 20px;
  cursor:pointer;
}

.status{margin-top:8px;font-size:13px}

/* Three canvas */
canvas{
  position:fixed;
  inset:0;
  z-index:1;
}
</style>
</head>

<body>

<!-- UI -->
<div class="container">
  <div class="header">AI COMMAND CENTER</div>

  <div class="panel" id="memoryPanel">
    User Memory: Initializing...
  </div>

  <div class="panel">
    <b>Training Modules</b><br>
    AI Foundations — <span id="m1"></span><br>
    Prompt Engineering — <span id="m2"></span><br>
    Automation Systems — <span id="m3"></span><br>
  </div>

  <div class="panel">
    <b>Talk to JARVIS</b>
    <div class="chat">
      <input id="userInput" placeholder="Speak or type command">
      <button onclick="askJarvis()">ASK</button>
    </div>
    <div class="status" id="status">JARVIS: Standby.</div>
  </div>
</div>

<!-- THREE.JS -->
<script>
/* ========== 3D PARTICLE HEAD ========== */
const scene=new THREE.Scene();
const camera=new THREE.PerspectiveCamera(60,innerWidth/innerHeight,0.1,1000);
camera.position.z=70;

const renderer=new THREE.WebGLRenderer({alpha:true});
renderer.setSize(innerWidth,innerHeight);
document.body.appendChild(renderer.domElement);

// Particle head (sphere approximation)
const geometry=new THREE.SphereGeometry(25,64,64);
const material=new THREE.PointsMaterial({
  color:0x00ffff,
  size:0.6,
  transparent:true,
  opacity:0.85
});
const head=new THREE.Points(geometry,material);
scene.add(head);

function animate(){
  requestAnimationFrame(animate);
  head.rotation.y+=0.002;
  head.rotation.x+=0.001;
  renderer.render(scene,camera);
}
animate();

window.onresize=()=>{
  camera.aspect=innerWidth/innerHeight;
  camera.updateProjectionMatrix();
  renderer.setSize(innerWidth,innerHeight);
};
</script>

<script>
/* ========== MEMORY SYSTEM ========== */
let memory=JSON.parse(localStorage.getItem("jarvisMemory"))||{
  interactions:0,
  modules:{
    foundation:true,
    prompt:true,
    automation:false
  }
};

function saveMemory(){
  localStorage.setItem("jarvisMemory",JSON.stringify(memory));
  renderMemory();
}

function renderMemory(){
  document.getElementById("memoryPanel").innerHTML=
    `Interactions: ${memory.interactions}`;
  m1.innerText=memory.modules.foundation?"UNLOCKED":"LOCKED";
  m2.innerText=memory.modules.prompt?"UNLOCKED":"LOCKED";
  m3.innerText=memory.modules.automation?"UNLOCKED":"LOCKED";
}
renderMemory();

/* ========== VOICE ENGINE ========== */
function speak(text){
  const u=new SpeechSynthesisUtterance(text);
  u.rate=0.95;
  u.pitch=0.8;
  u.voice=speechSynthesis.getVoices().find(v=>v.name.includes("Male"))||null;
  speechSynthesis.speak(u);
}

/* ========== AI LOGIC (LOCAL) ========== */
function askJarvis(){
  const input=userInput.value.trim();
  if(!input)return;

  memory.interactions++;

  let response="Acknowledged.";

  if(memory.interactions>3){
    memory.modules.automation=true;
    response="Automation Systems unlocked. You are progressing well.";
  }

  document.getElementById("status").innerText="JARVIS: "+response;
  speak(response);
  saveMemory();
  userInput.value="";
}
</script>

</body>
</html>
