<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>JARVIS AI Command Center</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- Three.js -->
<script src="https://cdn.jsdelivr.net/npm/three@0.158/build/three.min.js"></script>

<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;600&display=swap" rel="stylesheet">

<style>
:root{
  --cyan:#00ffff;
}
*{margin:0;padding:0;box-sizing:border-box;font-family:Orbitron}
body{
  background:radial-gradient(circle at center,#03141c,#000);
  color:var(--cyan);
  overflow:hidden;
}

/* HUD */
#hud{
  position:fixed;inset:0;
  background:
    radial-gradient(circle at center,rgba(0,255,255,.15),transparent 65%),
    repeating-linear-gradient(0deg,rgba(0,255,255,.04),rgba(0,255,255,.04) 1px,transparent 1px,transparent 40px);
  z-index:-10;
}

/* 3D */
#three{position:fixed;inset:0;z-index:-5}

/* LOGIN */
#login{
  position:fixed;inset:0;
  display:flex;align-items:center;justify-content:center;
  background:rgba(0,0,0,.9);
}
.login-box{
  width:320px;padding:30px;
  border:1px solid var(--cyan);
  backdrop-filter:blur(20px);
  box-shadow:0 0 40px rgba(0,255,255,.3);
}
.login-box h2{text-align:center;margin-bottom:20px}
.login-box input{
  width:100%;padding:12px;
  background:#000;border:1px solid var(--cyan);
  color:var(--cyan);
}
.login-box button{
  margin-top:20px;width:100%;
  padding:12px;border:none;
  background:var(--cyan);color:#000;
  cursor:pointer;
}

/* DASHBOARD */
#dash{display:none;height:100vh;overflow:auto;padding:20px}
h1{text-align:center;text-shadow:0 0 20px var(--cyan)}
.card{
  max-width:900px;margin:20px auto;padding:20px;
  background:rgba(0,20,30,.6);
  border:1px solid rgba(0,255,255,.5);
  backdrop-filter:blur(16px);
  box-shadow:0 0 30px rgba(0,255,255,.2);
}

/* MODULES */
.module{
  display:flex;justify-content:space-between;
  padding:12px 0;border-bottom:1px solid rgba(0,255,255,.25);
  opacity:.35
}
.module.unlocked{opacity:1}

/* CHAT */
#chat{display:flex;margin-top:15px}
#chat input{
  flex:1;padding:12px;
  background:#000;border:1px solid var(--cyan);
  color:var(--cyan);
}
#chat button{
  padding:12px;background:var(--cyan);
  border:none;
}

#avatar-label{
  position:fixed;bottom:20px;right:20px;
  font-size:12px;opacity:.7;
}
</style>
</head>

<body>

<div id="hud"></div>
<div id="three"></div>
<div id="avatar-label">JARVIS ONLINE</div>

<!-- LOGIN -->
<div id="login">
  <div class="login-box">
    <h2>INITIALIZE JARVIS</h2>
    <input id="username" placeholder="Your Name">
    <button onclick="activate()">ACTIVATE</button>
  </div>
</div>

<!-- DASHBOARD -->
<div id="dash">
<h1>AI COMMAND CENTER</h1>

<div class="card">
<h3>User Memory</h3>
<p id="memory"></p>
</div>

<div class="card">
<h3>Training Modules</h3>
<div id="modules"></div>
</div>

<div class="card">
<h3>Talk to JARVIS</h3>
<div id="chat">
<input id="q" placeholder="Ask anything about AI, business, or automation…">
<button onclick="ask()">ASK</button>
</div>
<p id="a"></p>
</div>
</div>

<script>
/* LOGIN + MEMORY */
function activate(){
  const n=username.value.trim();
  if(!n) return;
  localStorage.setItem("user",n);
  localStorage.setItem(
    "memory",
    "User joined the AI evolution program to master AI tools, automation, and income systems."
  );
  login.style.display="none";
  dash.style.display="block";
  memory.innerText=localStorage.getItem("memory");
}
</script>

<script>
/* MODULES */
const modulesData=[
 "AI Foundations",
 "Prompt Engineering",
 "Automation Systems",
 "AI Business Models",
 "Scaling with AI"
];
modules.innerHTML=modulesData.map((m,i)=>
 `<div class="module ${i<2?'unlocked':''}">
   <span>${m}</span>
   <span>${i<2?'UNLOCKED':'LOCKED'}</span>
 </div>`).join("");
</script>

<script>
/* REAL GPT CHAT */
async function ask(){
  const question=q.value.trim();
  if(!question) return;

  a.innerText="JARVIS: Analyzing...";
  const user=localStorage.getItem("user")||"Operator";

  try{
    const res=await fetch("/api/chat",{
      method:"POST",
      headers:{"Content-Type":"application/json"},
      body:JSON.stringify({message:question,user})
    });
    const data=await res.json();
    a.innerText="JARVIS: "+data.reply;
  }catch{
    a.innerText="JARVIS: Connection error.";
  }
}
</script>

<script>
/* THREE.JS — AI CORE + AVATAR */
const scene=new THREE.Scene();
const cam=new THREE.PerspectiveCamera(60,innerWidth/innerHeight,0.1,100);
cam.position.z=5;

const renderer=new THREE.WebGLRenderer({alpha:true});
renderer.setSize(innerWidth,innerHeight);
document.getElementById("three").appendChild(renderer.domElement);

/* CORE */
const core=new THREE.Mesh(
  new THREE.IcosahedronGeometry(1.2,2),
  new THREE.MeshBasicMaterial({wireframe:true,color:0x00ffff})
);
scene.add(core);

/* AVATAR */
const avatar=new THREE.Mesh(
  new THREE.SphereGeometry(0.6,32,32),
  new THREE.MeshBasicMaterial({wireframe:true,color:0x00ffff})
);
avatar.position.set(2,-1,0);
scene.add(avatar);

/* ANIMATE */
function animate(){
  requestAnimationFrame(animate);
  core.rotation.y+=0.002;
  avatar.rotation.y-=0.003;
  renderer.render(scene,cam);
}
animate();

addEventListener("resize",()=>{
  cam.aspect=innerWidth/innerHeight;
  cam.updateProjectionMatrix();
  renderer.setSize(innerWidth,innerHeight);
});
</script>

</body>
</html>
